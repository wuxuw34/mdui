import{j as I}from"./jsx-runtime-u17CrQMm.js";import{r as i}from"./iframe-DsJvdhq0.js";const S="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let j=(r=21)=>{let e="",a=crypto.getRandomValues(new Uint8Array(r|=0));for(;r--;)e+=S[a[r]&63];return e};function k(r,e){const[a,c]=i.useState(!0),{auto:m=!0,className:h,callback:u}=e;return i.useEffect(()=>{const l=r.current;if(!l)return;const n=x=>{if(!a)return;const v=l.getBoundingClientRect(),f=Math.max(v.width,v.height),t=x.clientX-v.left-f/2,y=x.clientY-v.top-f/2;if(u&&u({x:t,y,size:f}),m){const o=document.createElement("div");o.classList.add("ripple"),o.style.left=`${t}px`,o.style.top=`${y}px`,o.style.width=`${f}px`,o.style.height=`${f}px`,o.classList.add(...h?.split(" ")||[]),l.insertBefore(o,l.firstChild),o.addEventListener("animationend",()=>{o.remove()})}};return l.addEventListener("click",n),()=>{l.removeEventListener("click",n)}},[r,u,h,m,a]),{enabled:a,setEnabled:c}}const L=i.createContext({current:"",pre:"",next:"",setCurrent:()=>{},amount:0,variant:"default",orientation:"horizontal",animation:!0}),M=(r,e,a)=>{const c={"--text":`var(--text-${e})`,"--height":`var(--size-${e})`,"--gap":`var(--gap-${e})`,"--padding":`0 var(--padding-${e})`,"--radius":`var(--radius${a==="rounded"?"":"-square"}-${e})`,"--rounded":`var(--radius${a==="rounded"?"":"-square"}-${e})`,"--radius-pressed":`var(--radius-pressed-${e})`,"--shadow":"var(--shadow-default)","--shadow-hover-button":"var(--shadow-hover)"};Object.assign(r,c)};function P(r){const{variant:e="default",radiusInverse:a=!1,size:c,shape:m,className:h,selected:u}=r,l={};M(l,c,m);const n=["mdui-button"];return n.push(e),u?(n.push("selected"),a&&n.push("inverse-radius")):typeof u=="boolean"&&n.push("unselected"),n.push(...h?.split(" ")||[]),{className:n.join(" "),style:l}}const A=i.forwardRef(r=>{const{size:e="md",variant:a="default",className:c,startIcon:m,endIcon:h,disabled:u,shape:l="rounded",selected:n,ripple:x=!0,style:v,...f}=r,t=i.useContext(L);let{radiusInverse:y=!1}=r;y=t.variant==="connected";const b=i.useRef(null),{setEnabled:o}=k(b,{className:T()}),[p]=i.useState(j()),w=i.useRef({width:"",height:""}),q=i.useRef(!1),$=i.useRef([]),E=i.useMemo(()=>P({size:e,variant:a,shape:l,selected:n,className:c,radiusInverse:y}),[e,a,l,n,c,y]);function T(){return a==="default"?"ripple-active-default":"ripple-active"}return i.useEffect(()=>{n&&t.current!==p&&t.setCurrent(p)},[n,p,t]),i.useEffect(()=>{const s=b.current;if(!s)return;if(!t.animation){q.current&&(s.style.width=w.current.width,s.style.height=w.current.height);return}if(q.current||(w.current={width:s.style.width,height:s.style.height},q.current=!0),s.style.width=w.current.width,s.style.height=w.current.height,$.current.length<=0){const{width:d,height:g}=window.getComputedStyle(s);$.current=[Number(d.replace("px","")),Number(g.replace("px",""))]}const N=(d,g,B,C)=>{const R=[...d];return B==="horizontal"?C?R[0]+=g*2:R[0]-=g:C?R[1]+=g*2:R[1]-=g,R};if(t.current===p){const d=N($.current,t.amount,t.orientation,!0);t.orientation==="vertical"?s.style.height=`${d[1]}px`:s.style.width=`${d[0]}px`}else if(t.next===p||t.pre===p){const d=N($.current,t.amount,t.orientation,!1);t.orientation==="vertical"?s.style.height=`${d[1]}px`:s.style.width=`${d[0]}px`}},[t,p]),i.useEffect(()=>{const s=b.current;if(!x||!s||u){o(!1);return}},[x,u,o]),I.jsxs("button",{role:"button",ref:b,...f,"data-selected":n,"data-id":p,disabled:u,className:E.className,style:{"--radius":l==="rounded"?`var(--radius-${e})`:`var(--radius-square-${e})`,...E.style,...v},children:[m,r.children,h]})});A.__docgenInfo={description:"",methods:[],displayName:"MButton",props:{ripple:{required:!1,tsType:{name:"boolean"},description:""},variant:{required:!1,tsType:{name:"union",raw:'"default" | "outline" | "text" | "icon" | "tonal" | "filled"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"outline"'},{name:"literal",value:'"text"'},{name:"literal",value:'"icon"'},{name:"literal",value:'"tonal"'},{name:"literal",value:'"filled"'}]},description:""},startIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},endIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},selected:{required:!1,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""},shape:{required:!1,tsType:{name:"union",raw:'"rounded" | "square"',elements:[{name:"literal",value:'"rounded"'},{name:"literal",value:'"square"'}]},description:""},size:{required:!1,tsType:{name:"union",raw:"'xs' | 'sm' | 'md' | 'lg' | 'xl'",elements:[{name:"literal",value:"'xs'"},{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'xl'"}]},description:""},radiusInverse:{required:!1,tsType:{name:"boolean"},description:""}}};export{A as M,L as m};
